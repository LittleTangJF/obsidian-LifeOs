### 传统问题**传统 React 的痛点​**

- ​**​同步阻塞​**​：旧版 React 使用递归遍历组件树（Stack Reconciler），一旦开始渲染会占用主线程直至完成，导致复杂组件树渲染时界面卡顿
- **无法中断​**​：渲染过程不可中断，无法响应高优先级任务（如用户点击）
- **单一优先级​**​：所有更新按相同顺序处理，无法优化关键任务（如动画）的响应速度

### 引出fiber

- **增量渲染​**​：将渲染任务拆分为可中断的小单元（Fiber 节点），分批次执行
- **优先级调度​**​：区分任务紧急程度（如用户输入 > 动画 > 数据加载），动态调整执行顺序
- **并发模式支持​**​：允许同时处理多个 UI 版本，实现平滑过渡

### 底层原理

- **节点的数据结构​** - 链表结构构建组件树
- **双缓冲机制​**- 维护两棵 Fiber 树
	- ​**​Current Tree​**​：当前显示的 UI 树
	- **WorkInProgress Tree​**​：正在构建的新树
	- 更新完成后，两棵树交换角色，确保渲染无闪烁
- **任务调度与中断恢复​**
	- 使用 `Scheduler`包管理任务队列高优先级任务（如点击事件）优先执行
	- 通过 `performUnitOfWork`逐个处理 Fiber 节点，每次执行后检查主线程是否空闲（`shouldYield`），允许中断低优先级任务
	- ​**​时间切片**将长任务拆分为多个帧执行，避免阻塞动画和用户交互
